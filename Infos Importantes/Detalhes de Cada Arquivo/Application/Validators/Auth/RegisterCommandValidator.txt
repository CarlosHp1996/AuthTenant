=========================================================
REGISTERCOMMANDVALIDATOR.CS - DOCUMENTAÃ‡ÃƒO TÃ‰CNICA
=========================================================

VISÃƒO GERAL:
-----------
Validator enterprise para comandos de registro com validaÃ§Ãµes de seguranÃ§a abrangentes.
Implementa validaÃ§Ã£o robusta de dados de registro para sistemas multi-tenant.
Parte do sistema de autenticaÃ§Ã£o e criaÃ§Ã£o de contas da aplicaÃ§Ã£o.

LOCALIZAÃ‡ÃƒO:
-----------
ğŸ“ AuthTenant.Application/Validators/Auth/RegisterCommandValidator.cs

DEPENDÃŠNCIAS:
------------
âœ… FluentValidation - Framework de validaÃ§Ã£o
âœ… AuthTenant.Application.Commands.Auth.RegisterCommand - Comando de registro
âœ… System.Text.RegularExpressions - ValidaÃ§Ãµes regex
âœ… System.Globalization - FormataÃ§Ã£o de dados

RESPONSABILIDADES:
-----------------
ğŸ”¸ ValidaÃ§Ã£o robusta de email Ãºnico
ğŸ”¸ ValidaÃ§Ã£o de complexidade de senha
ğŸ”¸ ValidaÃ§Ã£o de nome completo
ğŸ”¸ ValidaÃ§Ã£o de nome de usuÃ¡rio Ãºnico
ğŸ”¸ ValidaÃ§Ã£o de formato de tenant ID
ğŸ”¸ SeguranÃ§a contra ataques de injeÃ§Ã£o
ğŸ”¸ VerificaÃ§Ã£o de polÃ­ticas de registro enterprise

VALIDAÃ‡Ã•ES IMPLEMENTADAS:
------------------------

1. EMAIL:
   âœ… ObrigatÃ³rio e nÃ£o nulo
   âœ… Formato de email vÃ¡lido (regex RFC 5322)
   âœ… Comprimento mÃ¡ximo de 254 caracteres
   âœ… DomÃ­nio de email vÃ¡lido
   âœ… VerificaÃ§Ã£o contra lista de domÃ­nios proibidos
   âœ… DetecÃ§Ã£o de emails temporÃ¡rios/descartÃ¡veis
   âœ… ValidaÃ§Ã£o de caracteres especiais permitidos
   âœ… PrevenÃ§Ã£o de SQL injection em campos de email
   âœ… VerificaÃ§Ã£o de unicidade (pode ser implementada)

2. SENHA:
   âœ… ObrigatÃ³ria e nÃ£o nula
   âœ… Comprimento mÃ­nimo de 8 caracteres
   âœ… Comprimento mÃ¡ximo de 128 caracteres
   âœ… Pelo menos uma letra maiÃºscula
   âœ… Pelo menos uma letra minÃºscula
   âœ… Pelo menos um nÃºmero
   âœ… Pelo menos um caractere especial
   âœ… Sem espaÃ§os em branco
   âœ… NÃ£o pode ser uma senha comum/vulnerÃ¡vel
   âœ… VerificaÃ§Ã£o contra padrÃµes sequenciais

3. NOME COMPLETO:
   âœ… ObrigatÃ³rio e nÃ£o nulo
   âœ… Comprimento entre 2 e 100 caracteres
   âœ… Apenas letras, espaÃ§os e caracteres acentuados
   âœ… NÃ£o pode conter apenas espaÃ§os
   âœ… Pelo menos nome e sobrenome
   âœ… NÃ£o pode conter nÃºmeros ou sÃ­mbolos
   âœ… ValidaÃ§Ã£o contra nomes inapropriados

4. NOME DE USUÃRIO:
   âœ… ObrigatÃ³rio e nÃ£o nulo
   âœ… Comprimento entre 3 e 30 caracteres
   âœ… Apenas letras, nÃºmeros e underscores
   âœ… Deve comeÃ§ar com letra
   âœ… NÃ£o pode terminar com underscore
   âœ… Sem underscores consecutivos
   âœ… VerificaÃ§Ã£o contra nomes reservados
   âœ… VerificaÃ§Ã£o de unicidade (pode ser implementada)

5. TENANT ID:
   âœ… ObrigatÃ³rio quando fornecido
   âœ… Formato de GUID vÃ¡lido
   âœ… NÃ£o pode ser GUID vazio
   âœ… ValidaÃ§Ã£o de integridade do tenant

CONSTANTES DE VALIDAÃ‡ÃƒO:
-----------------------
ğŸ“Š MAX_EMAIL_LENGTH = 254 caracteres
ğŸ“Š MIN_PASSWORD_LENGTH = 8 caracteres
ğŸ“Š MAX_PASSWORD_LENGTH = 128 caracteres
ğŸ“Š MIN_NAME_LENGTH = 2 caracteres
ğŸ“Š MAX_NAME_LENGTH = 100 caracteres
ğŸ“Š MIN_USERNAME_LENGTH = 3 caracteres
ğŸ“Š MAX_USERNAME_LENGTH = 30 caracteres
ğŸ“Š EMAIL_PATTERN = Regex RFC 5322 compliant
ğŸ“Š PASSWORD_PATTERN = Complexidade enterprise
ğŸ“Š NAME_PATTERN = Apenas letras e espaÃ§os
ğŸ“Š USERNAME_PATTERN = AlfanumÃ©rico com underscores

CÃ“DIGOS DE ERRO PERSONALIZADOS:
------------------------------
âŒ REGISTER_EMAIL_REQUIRED - Email obrigatÃ³rio
âŒ REGISTER_EMAIL_FORMAT - Formato de email invÃ¡lido
âŒ REGISTER_EMAIL_LENGTH - Comprimento de email invÃ¡lido
âŒ REGISTER_EMAIL_DOMAIN - DomÃ­nio nÃ£o permitido
âŒ REGISTER_EMAIL_DISPOSABLE - Email temporÃ¡rio detectado
âŒ REGISTER_PASSWORD_REQUIRED - Senha obrigatÃ³ria
âŒ REGISTER_PASSWORD_LENGTH - Comprimento de senha invÃ¡lido
âŒ REGISTER_PASSWORD_COMPLEXITY - Complexidade insuficiente
âŒ REGISTER_PASSWORD_WHITESPACE - EspaÃ§os nÃ£o permitidos
âŒ REGISTER_PASSWORD_COMMON - Senha muito comum
âŒ REGISTER_NAME_REQUIRED - Nome obrigatÃ³rio
âŒ REGISTER_NAME_LENGTH - Comprimento de nome invÃ¡lido
âŒ REGISTER_NAME_FORMAT - Formato de nome invÃ¡lido
âŒ REGISTER_NAME_STRUCTURE - Estrutura de nome incorreta
âŒ REGISTER_USERNAME_REQUIRED - Username obrigatÃ³rio
âŒ REGISTER_USERNAME_LENGTH - Comprimento de username invÃ¡lido
âŒ REGISTER_USERNAME_FORMAT - Formato de username invÃ¡lido
âŒ REGISTER_USERNAME_START - Username deve comeÃ§ar com letra
âŒ REGISTER_USERNAME_CONSECUTIVE - Underscores consecutivos
âŒ REGISTER_USERNAME_RESERVED - Username reservado
âŒ REGISTER_TENANT_REQUIRED - Tenant ID obrigatÃ³rio
âŒ REGISTER_TENANT_FORMAT - Formato de tenant invÃ¡lido

MÃ‰TODOS DE VALIDAÃ‡ÃƒO CUSTOMIZADOS:
---------------------------------

ğŸ”§ BeValidEmailFormat(string email)
   - Valida formato completo de email
   - Verifica sintaxe RFC 5322
   - Detecta caracteres especiais invÃ¡lidos

ğŸ”§ BeValidEmailDomain(string email)
   - Valida domÃ­nio do email
   - Verifica DNS do domÃ­nio
   - Bloqueia domÃ­nios maliciosos conhecidos

ğŸ”§ NotBeDisposableEmail(string email)
   - Detecta emails temporÃ¡rios/descartÃ¡veis
   - Verifica contra lista de provedores temporÃ¡rios
   - Melhora seguranÃ§a de registro

ğŸ”§ NotContainSqlInjection(string input)
   - Detecta tentativas de SQL injection
   - Verifica padrÃµes maliciosos
   - Protege contra ataques de injeÃ§Ã£o

ğŸ”§ MeetPasswordComplexity(string password)
   - Verifica complexidade completa da senha
   - Valida regras enterprise de senha
   - Confirma presenÃ§a de caracteres obrigatÃ³rios

ğŸ”§ NotBeCommonPassword(string password)
   - Verifica contra lista de senhas comuns
   - Detecta padrÃµes sequenciais
   - Previne uso de senhas vulnerÃ¡veis

ğŸ”§ NotContainOnlyWhitespace(string input)
   - Verifica se nÃ£o contÃ©m apenas espaÃ§os
   - Valida conteÃºdo significativo
   - Previne campos vazios disfarÃ§ados

ğŸ”§ BeValidFullName(string name)
   - Valida estrutura de nome completo
   - Verifica presenÃ§a de nome e sobrenome
   - Confirma formato apropriado

ğŸ”§ NotContainInappropriateWords(string name)
   - Verifica contra lista de palavras inadequadas
   - Bloqueia nomes ofensivos
   - MantÃ©m qualidade da base de usuÃ¡rios

ğŸ”§ StartWithLetter(string username)
   - Confirma que username inicia com letra
   - Aplica regras de nomenclatura
   - Evita usernames confusos

ğŸ”§ NotEndWithUnderscore(string username)
   - Verifica terminaÃ§Ã£o apropriada
   - Aplica regras de formataÃ§Ã£o
   - Melhora legibilidade

ğŸ”§ NotContainConsecutiveUnderscores(string username)
   - Detecta underscores consecutivos
   - MantÃ©m padrÃ£o de qualidade
   - Evita usernames mal formatados

ğŸ”§ NotBeReservedUsername(string username)
   - Verifica contra lista de nomes reservados
   - Protege termos do sistema
   - Evita conflitos de nomenclatura

ğŸ”§ BeValidGuid(Guid? tenantId)
   - Valida formato de GUID
   - Verifica se nÃ£o Ã© GUID vazio
   - Confirma integridade do tenant

FUNCIONALIDADES DE SEGURANÃ‡A:
-----------------------------
ğŸ”’ PrevenÃ§Ã£o de SQL Injection
ğŸ”’ DetecÃ§Ã£o de emails descartÃ¡veis
ğŸ”’ ValidaÃ§Ã£o de domÃ­nios DNS
ğŸ”’ VerificaÃ§Ã£o de senhas comprometidas
ğŸ”’ NormalizaÃ§Ã£o de dados de entrada
ğŸ”’ CÃ³digos de erro nÃ£o informativos para atacantes
ğŸ”’ ValidaÃ§Ã£o de nomes apropriados
ğŸ”’ ProteÃ§Ã£o contra usernames reservados

CONFIGURAÃ‡ÃƒO INTERNACIONAL:
--------------------------
ğŸŒ Suporte a mensagens em portuguÃªs (pt-BR)
ğŸŒ Suporte a mensagens em inglÃªs (en-US)
ğŸŒ ConfiguraÃ§Ã£o dinÃ¢mica de cultura
ğŸŒ FormataÃ§Ã£o localizada de mensagens
ğŸŒ Suporte a caracteres especiais de diferentes idiomas

PADRÃ•ES ARQUITETURAIS:
---------------------
ğŸ—ï¸ Clean Architecture - SeparaÃ§Ã£o clara de responsabilidades
ğŸ—ï¸ DDD (Domain-Driven Design) - ValidaÃ§Ã£o de domÃ­nio
ğŸ—ï¸ SOLID Principles - Single Responsibility
ğŸ—ï¸ Fail-Fast - ValidaÃ§Ã£o em cascata
ğŸ—ï¸ Security by Design - ValidaÃ§Ãµes de seguranÃ§a

INTEGRAÃ‡ÃƒO COM SISTEMA:
----------------------
ğŸ”— MediatR Pipeline - ExecuÃ§Ã£o automÃ¡tica
ğŸ”— AuthController - ValidaÃ§Ã£o de registro
ğŸ”— Exception Middleware - Tratamento de erros
ğŸ”— Logging Behavior - Auditoria de registros
ğŸ”— UserService - VerificaÃ§Ã£o de unicidade

CENÃRIOS DE TESTE RECOMENDADOS:
------------------------------
âœ… Registro vÃ¡lido com dados completos
âœ… Email jÃ¡ existente no sistema
âœ… Email invÃ¡lido (formato incorreto)
âœ… Email com domÃ­nio inexistente
âœ… Email descartÃ¡vel/temporÃ¡rio
âœ… Senha muito simples
âœ… Senha sem complexidade suficiente
âœ… Nome com nÃºmeros ou sÃ­mbolos
âœ… Nome muito curto ou muito longo
âœ… Username jÃ¡ existente
âœ… Username com formato invÃ¡lido
âœ… Username reservado pelo sistema
âœ… Tenant ID invÃ¡lido ou vazio
âœ… Tentativas de SQL injection
âœ… Caracteres especiais maliciosos

PERFORMANCE:
-----------
âš¡ ValidaÃ§Ã£o em cascata otimizada
âš¡ Regex compilada para performance
âš¡ Cache de domÃ­nios vÃ¡lidos
âš¡ VerificaÃ§Ã£o rÃ¡pida de senhas comuns
âš¡ Lookup eficiente de usernames reservados

MANUTENÃ‡ÃƒO:
----------
ğŸ”§ Lista de senhas comuns atualizÃ¡vel
ğŸ”§ Lista de domÃ­nios descartÃ¡veis expansÃ­vel
ğŸ”§ Lista de usernames reservados configurÃ¡vel
ğŸ”§ Lista de palavras inapropriadas editÃ¡vel
ğŸ”§ PadrÃµes de validaÃ§Ã£o configurÃ¡veis
ğŸ”§ CÃ³digos de erro personalizÃ¡veis

CONSIDERAÃ‡Ã•ES DE SEGURANÃ‡A:
--------------------------
âš ï¸ NÃ£o logar senhas ou dados sensÃ­veis
âš ï¸ Usar cÃ³digos de erro genÃ©ricos publicamente
âš ï¸ Atualizar listas de senhas comprometidas
âš ï¸ Monitorar tentativas de registro maliciosas
âš ï¸ Implementar rate limiting para registros
âš ï¸ Verificar unicidade de email/username no banco

EXEMPLO DE USO:
--------------
```csharp
var validator = new RegisterCommandValidator();
var command = new RegisterCommand(
    "user@domain.com", 
    "SecurePass123!", 
    "JoÃ£o Silva", 
    "joaosilva",
    tenantId
);
var result = validator.Validate(command);

if (!result.IsValid)
{
    // Processar erros de validaÃ§Ã£o
    foreach (var error in result.Errors)
    {
        Console.WriteLine($"{error.ErrorCode}: {error.ErrorMessage}");
    }
}
```

VERSIONAMENTO:
-------------
ğŸ“‹ VersÃ£o: 2.0.0
ğŸ“‹ Ãšltima AtualizaÃ§Ã£o: 2024
ğŸ“‹ Compatibilidade: .NET 8+
ğŸ“‹ Status: ProduÃ§Ã£o

AUTOR & RESPONSÃVEL:
-------------------
ğŸ‘¨â€ğŸ’» Desenvolvido por: Equipe AuthTenant
ğŸ‘¨â€ğŸ’» Mantido por: Time de SeguranÃ§a
ğŸ“§ Contato: security@AuthTenant.com

=========================================================
