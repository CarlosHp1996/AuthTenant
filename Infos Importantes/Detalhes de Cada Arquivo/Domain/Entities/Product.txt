=========================================================
PRODUCT.CS - DOCUMENTAÃ‡ÃƒO TÃ‰CNICA
=========================================================

VISÃƒO GERAL:
-----------
Entidade de domÃ­nio rica representando produtos no catÃ¡logo de e-commerce.
Implementa modelo de domÃ­nio rico com lÃ³gica de negÃ³cio e validaÃ§Ã£o.
Segue padrÃµes DDD com value objects, domain events e encapsulamento.

LOCALIZAÃ‡ÃƒO:
-----------
ğŸ“ AuthTenant.Domain/Entities/Product.cs

DEPENDÃŠNCIAS:
------------
âœ… BaseEntity - HeranÃ§a de funcionalidades base
âœ… System.ComponentModel.DataAnnotations - ValidaÃ§Ãµes de dados
âœ… System.ComponentModel.DataAnnotations.Schema - Mapeamento de banco
âœ… BusinessRuleException - ExceÃ§Ãµes de regras de negÃ³cio

RESPONSABILIDADES:
-----------------
ğŸ”¸ Gerenciamento completo do ciclo de vida do produto
ğŸ”¸ Controle de estoque com validaÃ§Ãµes de negÃ³cio
ğŸ”¸ GestÃ£o de preÃ§os com regras comerciais
ğŸ”¸ CategorizaÃ§Ã£o e organizaÃ§Ã£o de produtos
ğŸ”¸ Analytics e tracking de visualizaÃ§Ãµes
ğŸ”¸ ValidaÃ§Ã£o de dados de entrada e integridade

PROPRIEDADES PRINCIPAIS:
-----------------------

1. INFORMAÃ‡Ã•ES BÃSICAS:
   âœ… Name (string) - Nome validado com 2-200 caracteres
   âœ… Description (string?) - DescriÃ§Ã£o opcional atÃ© 2000 caracteres
   âœ… Category (string?) - Categoria para organizaÃ§Ã£o
   âœ… Tags (List<string>) - Tags para busca e filtragem
   âœ… ValidaÃ§Ã£o de caracteres permitidos e profissionalismo

2. INFORMAÃ‡Ã•ES COMERCIAIS:
   âœ… Price (decimal) - PreÃ§o com precisÃ£o decimal(18,4)
   âœ… SKU (string?) - CÃ³digo Ãºnico de produto opcional
   âœ… IsActive (bool) - Status de ativaÃ§Ã£o
   âœ… IsFeatured (bool) - Status de destaque promocional
   âœ… ValidaÃ§Ã£o de limites comerciais

3. CONTROLE DE ESTOQUE:
   âœ… StockQuantity (int) - Quantidade atual em estoque
   âœ… MinimumStockLevel (int) - NÃ­vel mÃ­nimo para alertas
   âœ… MaximumStockLevel (int) - NÃ­vel mÃ¡ximo para otimizaÃ§Ã£o
   âœ… ValidaÃ§Ã£o de quantidades e limites razoÃ¡veis

4. DIMENSÃ•ES E LOGÃSTICA:
   âœ… Weight (decimal?) - Peso em quilogramas
   âœ… Length, Width, Height (decimal?) - DimensÃµes em centÃ­metros
   âœ… Volume calculado automaticamente
   âœ… Suporte a cÃ¡lculos de frete

5. ANALYTICS E TRACKING:
   âœ… ViewCount (long) - Contador de visualizaÃ§Ãµes
   âœ… LastViewedAt (DateTime?) - Ãšltima visualizaÃ§Ã£o
   âœ… MÃ©tricas de engajamento e popularidade

PROPRIEDADES COMPUTADAS:
------------------------

ğŸ”§ NormalizedName
   - Nome normalizado para buscas consistentes
   - Trim automÃ¡tico e formataÃ§Ã£o padrÃ£o

ğŸ”§ NormalizedSKU
   - SKU em maiÃºsculas para comparaÃ§Ãµes
   - ConsistÃªncia em verificaÃ§Ãµes de unicidade

ğŸ”§ IsInStock
   - Verifica disponibilidade considerando ativo + estoque
   - LÃ³gica de negÃ³cio encapsulada

ğŸ”§ IsLowStock / IsOverstocked
   - Alertas baseados em limites configurados
   - Suporte a gestÃ£o automÃ¡tica de inventory

ğŸ”§ Volume
   - CÃ¡lculo automÃ¡tico de volume (LÃ—WÃ—H)
   - Null se dimensÃµes incompletas

ğŸ”§ StockStatus
   - Status descritivo para interfaces
   - Estados: Active, Inactive, Out of Stock, Low Stock, Overstocked

MÃ‰TODOS DE DOMÃNIO - GESTÃƒO DE PREÃ‡OS:
------------------------------------

ğŸ”§ UpdatePrice(decimal newPrice, string? updatedBy)
   - AtualizaÃ§Ã£o segura de preÃ§os com validaÃ§Ãµes
   - ProteÃ§Ã£o contra mudanÃ§as extremas (>500% ou <10%)
   - Auditoria automÃ¡tica de mudanÃ§as
   - Limites comerciais (0.01 - 999,999.99)

ğŸ”§ ApplyDiscount(decimal discountPercentage, string? updatedBy)
   - AplicaÃ§Ã£o de descontos promocionais
   - ValidaÃ§Ã£o de percentual (0-100%)
   - CÃ¡lculo automÃ¡tico do novo preÃ§o
   - IntegraÃ§Ã£o com sistema de promoÃ§Ãµes

MÃ‰TODOS DE DOMÃNIO - GESTÃƒO DE ESTOQUE:
--------------------------------------

ğŸ”§ AdjustStock(int quantity, string? updatedBy, string? reason)
   - Ajuste de estoque com auditoria
   - Suporte a entrada e saÃ­da de produtos
   - ValidaÃ§Ã£o de estoque suficiente
   - Rastreamento de razÃµes de ajuste

ğŸ”§ ReserveStock(int quantity, string? reservedBy)
   - Reserva de estoque para pedidos pendentes
   - ReduÃ§Ã£o temporÃ¡ria de disponibilidade
   - ValidaÃ§Ã£o de quantidade disponÃ­vel
   - Suporte a sistema de reservas

ğŸ”§ Restock(int quantity, string? restockedBy)
   - ReposiÃ§Ã£o de estoque com validaÃ§Ã£o
   - Registro de entrada de mercadorias
   - Auditoria de operaÃ§Ãµes de restock
   - IntegraÃ§Ã£o com fornecedores

MÃ‰TODOS DE DOMÃNIO - GESTÃƒO DE PRODUTO:
--------------------------------------

ğŸ”§ Activate(string? activatedBy) / Deactivate(string? deactivatedBy)
   - Controle de ciclo de vida do produto
   - ValidaÃ§Ãµes de estado antes de ativaÃ§Ã£o
   - Auditoria de mudanÃ§as de status
   - IntegraÃ§Ã£o com catÃ¡logo

ğŸ”§ MarkAsFeatured(string? featuredBy) / RemoveFromFeatured(string? unfeaturedBy)
   - GestÃ£o de produtos em destaque
   - ValidaÃ§Ã£o de produto ativo para destaque
   - Suporte a campanhas promocionais
   - Tracking de produtos populares

ğŸ”§ RecordView()
   - Registro de visualizaÃ§Ãµes para analytics
   - Incremento de contador sem afetar UpdatedAt
   - Timestamp de Ãºltima visualizaÃ§Ã£o
   - MÃ©tricas de engajamento

ğŸ”§ UpdateTags(IEnumerable<string> tags, string? updatedBy)
   - GestÃ£o de tags com validaÃ§Ã£o
   - NormalizaÃ§Ã£o automÃ¡tica (lowercase, trim)
   - Limite de 20 tags por produto
   - ValidaÃ§Ã£o de formato de tags (50 chars, alfanumÃ©rico)

VALIDAÃ‡Ã•ES DE NEGÃ“CIO:
---------------------

1. NOME DO PRODUTO:
   âŒ NÃ£o pode ser nulo ou vazio
   âŒ MÃ­nimo 2, mÃ¡ximo 200 caracteres
   âŒ Apenas caracteres vÃ¡lidos (letras, nÃºmeros, sÃ­mbolos comerciais)
   âŒ NÃ£o pode conter palavras proibidas (teste, dummy, fake)

2. PREÃ‡O:
   âŒ Deve ser maior que zero
   âŒ MÃ¡ximo 4 casas decimais
   âŒ Faixa comercial vÃ¡lida (0.01 - 999,999.99)
   âŒ MudanÃ§as extremas bloqueadas (>500% ou <10%)

3. SKU:
   âŒ Se fornecido, 3-50 caracteres
   âŒ Apenas maiÃºsculas, nÃºmeros, hÃ­fens e underscores
   âŒ NÃ£o pode comeÃ§ar/terminar com caracteres especiais
   âŒ MÃºltiplos formatos aceitos (PROD-2024-001, ABC123)

4. ESTOQUE:
   âŒ NÃ£o pode ser negativo
   âŒ Limites razoÃ¡veis para prevenir erros
   âŒ MÃ­nimo â‰¤ MÃ¡ximo quando configurado
   âŒ ValidaÃ§Ã£o de mudanÃ§as drÃ¡sticas

5. TAGS:
   âŒ MÃ¡ximo 20 tags por produto
   âŒ Cada tag: 2-50 caracteres
   âŒ Apenas lowercase, nÃºmeros, hÃ­fens, underscores
   âŒ Sem duplicatas

CONSTANTES DE VALIDAÃ‡ÃƒO:
-----------------------
ğŸ“Š MIN_NAME_LENGTH = 2 caracteres
ğŸ“Š MAX_NAME_LENGTH = 200 caracteres
ğŸ“Š MAX_DESCRIPTION_LENGTH = 2000 caracteres
ğŸ“Š MIN_SKU_LENGTH = 3 caracteres
ğŸ“Š MAX_SKU_LENGTH = 50 caracteres
ğŸ“Š MIN_PRICE = 0.01m
ğŸ“Š MAX_PRICE = 999999.99m
ğŸ“Š MAX_STOCK_QUANTITY = 1.000.000
ğŸ“Š MAX_TAGS_COUNT = 20
ğŸ“Š MAX_TAG_LENGTH = 50 caracteres

FUNCIONALIDADES DE SEGURANÃ‡A:
-----------------------------
ğŸ”’ ValidaÃ§Ã£o de entrada contra XSS
ğŸ”’ SanitizaÃ§Ã£o de campos de texto
ğŸ”’ ProteÃ§Ã£o contra injeÃ§Ã£o de dados
ğŸ”’ ValidaÃ§Ã£o de limites comerciais
ğŸ”’ Auditoria de todas as mudanÃ§as
ğŸ”’ Encapsulamento de regras de negÃ³cio

PADRÃ•ES ARQUITETURAIS:
---------------------
ğŸ—ï¸ Rich Domain Model - Entidade com comportamentos
ğŸ—ï¸ Value Objects - Propriedades computadas imutÃ¡veis
ğŸ—ï¸ Domain Events - NotificaÃ§Ãµes de mudanÃ§as (comentado)
ğŸ—ï¸ Specification Pattern - ValidaÃ§Ãµes complexas
ğŸ—ï¸ Factory Pattern - ConstruÃ§Ã£o controlada
ğŸ—ï¸ Business Rules - Regras de negÃ³cio encapsuladas

INTEGRAÃ‡ÃƒO COM SISTEMA:
----------------------
ğŸ”— Entity Framework - Mapeamento ORM com anotaÃ§Ãµes
ğŸ”— Product Repository - PersistÃªncia e consultas
ğŸ”— Price History Service - Tracking de mudanÃ§as de preÃ§o
ğŸ”— Inventory Service - GestÃ£o de estoque
ğŸ”— Analytics Service - MÃ©tricas de visualizaÃ§Ã£o
ğŸ”— Search Engine - IndexaÃ§Ã£o de nome e tags

CENÃRIOS DE USO:
---------------
âœ… CriaÃ§Ã£o de novos produtos no catÃ¡logo
âœ… AtualizaÃ§Ã£o de preÃ§os com validaÃ§Ã£o
âœ… GestÃ£o de estoque e reservas
âœ… AtivaÃ§Ã£o/desativaÃ§Ã£o de produtos
âœ… Destaque de produtos promocionais
âœ… Tracking de visualizaÃ§Ãµes e popularidade
âœ… CategorizaÃ§Ã£o e organizaÃ§Ã£o
âœ… CÃ¡lculos de frete e logistics

PERFORMANCE:
-----------
âš¡ Propriedades computadas calculadas sob demanda
âš¡ ValidaÃ§Ãµes otimizadas com early returns
âš¡ Encapsulamento reduz mutaÃ§Ãµes desnecessÃ¡rias
âš¡ Lazy loading de navegaÃ§Ã£o properties
âš¡ IndexaÃ§Ã£o otimizada via anotaÃ§Ãµes

MANUTENÃ‡ÃƒO:
----------
ğŸ”§ ValidaÃ§Ãµes configurÃ¡veis via constantes
ğŸ”§ Regras de negÃ³cio centralizadas
ğŸ”§ Logs estruturados via ToString()
ğŸ”§ Extensibilidade via override de IsValid()
ğŸ”§ EvoluÃ§Ã£o compatÃ­vel de propriedades

CONSIDERAÃ‡Ã•ES DE NEGÃ“CIO:
------------------------
âš ï¸ Integrar com sistema de categorias
âš ï¸ Implementar validaÃ§Ã£o de unicidade de SKU
âš ï¸ Considerar versionamento de produtos
âš ï¸ Adicionar suporte a variaÃ§Ãµes
âš ï¸ Implementar aprovaÃ§Ã£o de mudanÃ§as crÃ­ticas
âš ï¸ Integrar com sistema de fornecedores

EXEMPLO DE USO:
--------------
```csharp
// CriaÃ§Ã£o de produto
var product = new Product(
    "Smartphone Galaxy S24", 
    2999.99m, 
    "tenant1", 
    "user123"
);

// ConfiguraÃ§Ã£o adicional
product.Description = "Smartphone Android com 128GB";
product.SKU = "SAMS-2024-001";
product.Category = "Electronics";
product.UpdateTags(new[] { "smartphone", "android", "samsung" }, "user123");

// GestÃ£o de estoque
product.Restock(100, "warehouse");
product.ReserveStock(5, "order123");

// GestÃ£o de preÃ§os
product.ApplyDiscount(10, "promotion"); // 10% desconto

// Analytics
product.RecordView();
var isPopular = product.ViewCount > 1000;

// ValidaÃ§Ãµes
var isValid = product.IsValid();
var isInStock = product.IsInStock;
var stockStatus = product.StockStatus;
```

EXTENSÃ•ES FUTURAS:
-----------------
ğŸ”® Product Variants - VariaÃ§Ãµes de cor, tamanho, etc.
ğŸ”® Price History - HistÃ³rico completo de preÃ§os
ğŸ”® Review System - Sistema de avaliaÃ§Ãµes
ğŸ”® Recommendation Engine - Produtos relacionados
ğŸ”® Inventory Alerts - NotificaÃ§Ãµes automÃ¡ticas
ğŸ”® Supplier Integration - IntegraÃ§Ã£o com fornecedores

VERSIONAMENTO:
-------------
ğŸ“‹ VersÃ£o: 2.0.0
ğŸ“‹ Ãšltima AtualizaÃ§Ã£o: 2024
ğŸ“‹ Compatibilidade: .NET 8+
ğŸ“‹ Status: ProduÃ§Ã£o

AUTOR & RESPONSÃVEL:
-------------------
ğŸ‘¨â€ğŸ’» Desenvolvido por: Equipe AuthTenant
ğŸ‘¨â€ğŸ’» Mantido por: Time de Produtos
ğŸ“§ Contato: products@AuthTenant.com

=========================================================
